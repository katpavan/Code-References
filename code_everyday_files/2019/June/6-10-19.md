## System Design - Google Docs System Design (Operational Transformation)

### Summary : Design a collaborative editing application.  Multiple users can work concurrently on the same document.  The document type can be anything.

### Option 1 - Lock (Pessimistic Concurrency Control)
  * Write permissions is sequentially handed off from user to user.
  * This is **NOT** a good solution because having a large a mount of concurrently users and only one write permission at a time is extremely inefficient.
  * A better solution would be an **Optimistic Concurrency Control** architecture.
  
### Option 2 - **Optimistic Concurrency Control**
  * Example: User A and user B are both working on the same document at the same time.  What is a good method to _sync_ this document up for both users? Words typed by user A can be seen by user B and vice versa.
    1. **(Event Passing) Letter Syncing**
      * As soon as a user types a key, an event fires for that change.
    2. **Line Syncing**
      * As soon as a line is
    3. **Diff Syncing**
    
    
## ES6 Classes

### Summary : With ES6, Javascript now has a class keyword that makes it very similar to how you might program in other OOP languages such as C#, Java, or PHP.  

### Defining a Class

 ```javascript
 class Vehicle {
 
 }
 
 console.log(typeof Vehicle);
 
 //function
 ```
 * Using the `class` keyword does not really give you access to an actual `class type` in Javascript.  It's bascially the ES5 constructo function with prettier syntax.
 
### Instantiating an Object from ES6 Class

```javascript
class Vehicle{

}
let vehicle = new Vehicle();

console.log(typeof vehicle); //object
console.log(vehicle instanceof Vehicle); //true
```
* Even though the `class` itself is a function, when we instantiate an object from that class, we do get an actual object.

### Creating an ES6 Method Inside a Class

```javascript
class Vehicle{
 displayType(){
  console.log('Car');
 }
}

let vehicle = new Vehicle();
vehicle.displayType(); //Car
```
* Simialar to declaring a function inside an object literal without the function keyword in ES6, you can also use this shorthand syntax when creating a method inside a class

### Adding a method to a class = Adding a function to a Prototype

```javascript
class Vehicle{
 displayType(){
  console.log('Car');
 }
}

let vehicle = new Vehicle();
console.log(vehicle.displayType === Vehicle.prototype.displayType);

//true
```
* Adding a method to a class is like adding a function to a prototype object.

### ES6 Constructor Function

```javascript
class Vehicle{
 constructor(){
  console.log('Running automatically...')
 }
 
 displayType(){
  console.log('Car');
 }
}

let vehicle = new Vehicle();

//Running automatically...
```
* **Constructors** are key concepts of classes in any object oriented language.  They are functions that _automatically run_ anytime an object is instantiated from that class
* This is used to set up some default data or initialized needed variables.

### Assigning a class to a Variable

```javascript
let someVar = class Vehicle{
 constructor(){
  console.log('Running automatically...')
 }
 
 displayType(){
  console.log('Car')
 }
}

new someVar();

//Running automatically...
```
* Similar to assigning functions to variables.  You can assign classes to them as well.

### Inheritance with extends and super in ES6
```javascript
class Vehicle{ 
 constructor(){
  console.log('Start me up');
 }
}

class Tesla extends Vehicle{

}

let model3 = new Tesla();

//Start me up
```
* Notice that the `Tesla` class is 100% empty, there is nothing between the curly braces
* Even though its empty, it extends Vehicle with does have a constructor.  In ES6, the constructor gets called when the child class is instantiated.

```javascript
class Vehicle{
 constructor(color){
  console.log(`This cas is ${color}`)
 }
}

class Tesla extends Vehicle{
}

let model3 = new Tesla('Blue');

//The car is Blue
```
* Another example showing that the extends beings the base class constructor to the child class
